(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){"use strict";c.r(t);var n,a,r=c(6),o=c.n(r),s=c(33),i=c.n(s),u=c(14),l=c(21),d=Object(l.c)({name:"user",initialState:{user:null},reducers:{loginUser:function(e,t){e.user=t.payload},signOutUser:function(e){e.user=null}}}),j=d.actions,b=j.loginUser,f=j.signOutUser,O=d.reducer,h=c(4),m=c(0),p=c.n(m),v=c(23),x=c(1),g=c(49),C=c(16),w=Object(g.a)({apiKey:"AIzaSyC-JwZRcwfI2C0rjrPQT6KzCLQX_CkKTEs",authDomain:"todo-aa4ef.firebaseapp.com",databaseURL:"https://todo-aa4ef-default-rtdb.firebaseio.com",projectId:"todo-aa4ef",storageBucket:"todo-aa4ef.appspot.com",messagingSenderId:"867892390001",appId:"1:867892390001:web:fe2b562d639279bc2793d0"}),N=Object(C.f)(w),_=Object(l.b)("folders/getFolders",function(){var e=Object(x.a)(p.a.mark((function e(t){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(Object(C.g)(Object(C.b)(N,"folders"),Object(C.i)("userId","==",t)));case 2:return c=e.sent,n=[],c.forEach((function(e){n.push(Object(v.a)({id:e.id},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k=Object(l.b)("folders/addNewFolder",function(){var e=Object(x.a)(p.a.mark((function e(t,c){var n,a,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,a=t.userId,r=c.dispatch,e.next=4,Object(C.a)(Object(C.b)(N,"folders"),{title:n,userId:a});case 4:o=e.sent,r(I({title:n,id:o.id}));case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),S=Object(l.c)({name:"folders",initialState:{folders:[],status:null},reducers:{folders:function(e,t){e.folders.push(t.payload)}},extraReducers:(n={},Object(h.a)(n,_.pending,(function(e){e.status="pending"})),Object(h.a)(n,_.fulfilled,(function(e,t){e.status="fulfilled",e.folders=t.payload})),n)}),I=S.actions.folders,L=S.reducer,y=Object(l.b)("todos/getTodos",function(){var e=Object(x.a)(p.a.mark((function e(t){var c,n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.folderId,n=t.userId,e.next=3,Object(C.e)(Object(C.g)(Object(C.b)(N,"todos"),Object(C.i)("folderId","==",c),Object(C.i)("userId","==",n)));case 3:return a=e.sent,r=[],a.forEach((function(e){r.push(Object(v.a)({id:e.id},e.data()))})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),V=Object(l.b)("todos/addNewTodo",function(){var e=Object(x.a)(p.a.mark((function e(t,c){var n,a,r,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,a=t.folderId,r=t.userId,o=c.dispatch,e.next=4,Object(C.a)(Object(C.b)(N,"todos"),{title:n,folderId:a,userId:r,completed:!1});case 4:s=e.sent,o(B({title:n,id:s.id}));case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),H=Object(l.b)("todos/removeTodo",function(){var e=Object(x.a)(p.a.mark((function e(t,c){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.dispatch,e.next=3,Object(C.c)(Object(C.d)(N,"todos",t));case 3:n(J(t));case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),M=Object(l.b)("todos/changeStateTodo",function(){var e=Object(x.a)(p.a.mark((function e(t,c){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.completed,(0,c.dispatch)(R({id:n,completed:a})),e.next=5,Object(C.h)(Object(C.d)(N,"todos",n),{completed:!a});case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),Z=Object(l.b)("todos/changeNameTodo",function(){var e=Object(x.a)(p.a.mark((function e(t,c){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,a=t.id,(0,c.dispatch)(U({id:a,title:n})),e.next=5,Object(C.h)(Object(C.d)(N,"todos",a),{title:n});case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),E=Object(l.c)({name:"todos",initialState:{todos:[],status:null},reducers:{todos:function(e,t){e.todos.push(t.payload)},remove:function(e,t){e.todos=e.todos.filter((function(e){return e.id!==t.payload}))},changeState:function(e,t){e.todos.find((function(e){return e.id===t.payload.id})).completed=!t.payload.completed},changeName:function(e,t){e.todos.find((function(e){return e.id===t.payload.id})).title=t.payload.title}},extraReducers:(a={},Object(h.a)(a,y.pending,(function(e){e.status="pending"})),Object(h.a)(a,y.fulfilled,(function(e,t){e.status="resolved",e.todos=t.payload})),a)}),T=E.actions,B=T.todos,J=T.remove,R=T.changeState,U=T.changeName,D=E.reducer,P=Object(l.a)({reducer:{user:O,folders:L,todos:D}}),A=c(37),F=c(11),K=c(12),z=c(30),Q=c.p+"static/media/logo.368d9126.svg",X=(c(45),c(7)),q=function(){return Object(X.jsxs)("div",{className:"logo",children:[Object(X.jsx)("img",{src:Q,alt:""}),Object(X.jsx)("p",{children:"React todo"})]})},G=c(36),W=c.n(G),Y=(c(63),function(e){var t=e.name,c=e.className,n=e.value,a=e.setValue,r=e.onSubmit;return Object(X.jsxs)("form",{className:W()("form",c),onSubmit:r,children:[Object(X.jsx)("input",{className:"form__field",value:n,onChange:function(e){return a(e.target.value)},placeholder:" ",type:"text"}),Object(X.jsx)("label",{className:"form__label",children:t})]})}),$=(c(64),function(e){var t=e.children,c=e.className,n=e.onClick;return Object(X.jsx)("button",{className:W()("button",c),onClick:n,children:t})}),ee=(c(65),function(e){var t=e.title,c=e.link,n=e.linkName,a=e.btnName,r=e.onClick,o=e.setEmail,s=e.setPassword;return Object(X.jsxs)("div",{className:"auth__form",children:[Object(X.jsx)(q,{}),Object(X.jsx)("h1",{className:"auth__form-title",children:t}),Object(X.jsx)(Y,{className:"auth__form-field",name:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",setValue:o}),Object(X.jsx)(Y,{className:"auth__form-field",name:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",setValue:s}),Object(X.jsx)($,{className:"auth__form-button",onClick:r,children:a}),Object(X.jsx)(A.b,{className:"auth__form-link",to:c,children:n})]})}),te=(c(69),function(){var e=o.a.useState(""),t=Object(K.a)(e,2),c=t[0],n=t[1],a=o.a.useState(""),r=Object(K.a)(a,2),s=r[0],i=r[1],l=Object(u.b)(),d=Object(F.g)().push,j=function(){var e=Object(z.b)();Object(z.c)(e,c,s).then((function(e){var t=e.user;l(b(t.uid)),localStorage.setItem("user",JSON.stringify({email:c,password:s})),d("/react-todo/")})).catch((function(e){console.log(e)}))};return o.a.useEffect((function(){if(localStorage.getItem("user")){var e=JSON.parse(localStorage.getItem("user"));n(e.email),i(e.password),c&&s&&j()}}),[c,s]),Object(X.jsx)("div",{className:"login",children:Object(X.jsx)(ee,{title:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442",btnName:"\u0412\u043e\u0439\u0442\u0438",link:"/react-todo/registr",linkName:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",setEmail:n,setPassword:i,onClick:j})})}),ce=(c(70),function(){var e=o.a.useState(""),t=Object(K.a)(e,2),c=t[0],n=t[1],a=o.a.useState(""),r=Object(K.a)(a,2),s=r[0],i=r[1],l=Object(u.b)(),d=Object(F.g)().push;return Object(X.jsx)("div",{className:"registr",children:Object(X.jsx)(ee,{title:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",btnName:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",link:"/react-todo/login",linkName:"\u0412\u043e\u0439\u0442\u0438",setEmail:n,setPassword:i,onClick:function(){console.log(c,s);var e=Object(z.b)();Object(z.a)(e,c,s).then((function(e){var t=e.user;l(b(t.uid)),localStorage.setItem("user",JSON.stringify({email:c,password:s})),d("/react-todo/")})).catch((function(e){console.log(e)}))}})})}),ne=function(){var e=Object(F.h)().pathname,t=Object(u.c)((function(e){return e.folders.folders})).find((function(t){return t.id===e.slice(1)})),c=Object(u.b)(),n="/react-todo/"===e?"\u0417\u0430\u0434\u0430\u0447\u0438":t&&t.title;return Object(X.jsxs)("div",{className:"header",children:[Object(X.jsx)("h1",{className:"header__title",children:n}),Object(X.jsx)("button",{className:"header__button",onClick:function(){c(f()),localStorage.removeItem("user")},children:Object(X.jsx)("svg",{width:"40",height:"30",viewBox:"0 0 40 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(X.jsx)("path",{d:"M39.4464 16.3271L26.1124 29.4499C24.9219 30.6216 22.8583 29.8014 22.8583 28.122V20.6232H12.0641C11.0085 20.6232 10.1592 19.7874 10.1592 18.7485V11.2498C10.1592 10.2109 11.0085 9.3751 12.0641 9.3751H22.8583V1.87635C22.8583 0.204753 24.9139 -0.623235 26.1124 0.548446L39.4464 13.6713C40.1845 14.4055 40.1845 15.5928 39.4464 16.3271ZM15.2389 29.0593V25.9349C15.2389 25.4193 14.8103 24.9975 14.2864 24.9975H7.61943C6.21459 24.9975 5.07962 23.8805 5.07962 22.4979V7.50042C5.07962 6.11783 6.21459 5.00083 7.61943 5.00083H14.2864C14.8103 5.00083 15.2389 4.57903 15.2389 4.06349V0.939006C15.2389 0.423466 14.8103 0.00166133 14.2864 0.00166133H7.61943C3.41287 0.00166133 0 3.36048 0 7.50042V22.4979C0 26.6379 3.41287 29.9967 7.61943 29.9967H14.2864C14.8103 29.9967 15.2389 29.5749 15.2389 29.0593Z",fill:"#212832"})})})]})},ae=(c(71),function(e){var t=e.completed,c=e.changeState,n=e.id;return Object(X.jsx)("div",{className:"checkbox ".concat(t?"checkbox--active":""),onClick:function(){c(n,t)},children:Object(X.jsx)("svg",{width:"20",height:"15",viewBox:"0 0 20 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(X.jsx)("path",{d:"M6.79289 14.7054L0.292881 8.16802C-0.097627 7.77527 -0.097627 7.13846 0.292881 6.74567L1.70706 5.32332C2.09757 4.93053 2.73077 4.93053 3.12128 5.32332L7.5 9.72717L16.8787 0.294565C17.2692 -0.0981884 17.9024 -0.0981884 18.2929 0.294565L19.7071 1.71692C20.0976 2.10967 20.0976 2.74648 19.7071 3.13927L8.20711 14.7054C7.81656 15.0982 7.1834 15.0982 6.79289 14.7054Z",fill:"white"})})})}),re=(c(46),function(e){var t=e.title,c=e.completed,n=e.id,a=e.remove,r=e.changeState,o=e.openModal;return Object(X.jsxs)("div",{className:"todo",children:[Object(X.jsx)(ae,{completed:c,changeState:r,id:n}),Object(X.jsx)("h2",{className:"todo__title",children:t}),Object(X.jsxs)("div",{className:"todo__buttons",children:[Object(X.jsx)("button",{className:"todo__button",onClick:function(){o(t,n)},children:Object(X.jsx)("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(X.jsx)("path",{d:"M14.1964 4.55244L20.4473 10.8035L6.87389 24.3775L1.30079 24.9927C0.554715 25.0752 -0.0756396 24.4444 0.00736604 23.6983L0.627467 18.121L14.1964 4.55244ZM24.3134 3.62176L21.3784 0.686657C20.4629 -0.228886 18.9781 -0.228886 18.0626 0.686657L15.3014 3.44793L21.5522 9.69901L24.3134 6.93774C25.2289 6.02171 25.2289 4.53731 24.3134 3.62176Z",fill:"#212832"})})}),Object(X.jsx)("button",{className:"todo__button",onClick:function(){return a(n)},children:Object(X.jsx)("svg",{width:"25",height:"30",viewBox:"0 0 25 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(X.jsx)("path",{d:"M14.9554 24.375H16.2946C16.4722 24.375 16.6426 24.3009 16.7682 24.1691C16.8937 24.0372 16.9643 23.8584 16.9643 23.6719V11.0156C16.9643 10.8291 16.8937 10.6503 16.7682 10.5184C16.6426 10.3866 16.4722 10.3125 16.2946 10.3125H14.9554C14.7778 10.3125 14.6074 10.3866 14.4818 10.5184C14.3563 10.6503 14.2857 10.8291 14.2857 11.0156V23.6719C14.2857 23.8584 14.3563 24.0372 14.4818 24.1691C14.6074 24.3009 14.7778 24.375 14.9554 24.375ZM24.1071 4.6875H19.5084L17.611 1.36523C17.3729 0.948642 17.0361 0.603921 16.6334 0.364662C16.2307 0.125404 15.7758 -0.000231058 15.3131 3.19011e-07H9.68694C9.22441 -2.86388e-05 8.76975 0.125702 8.36724 0.364951C7.96473 0.6042 7.62808 0.948812 7.39007 1.36523L5.49163 4.6875H0.892857C0.656057 4.6875 0.428955 4.78627 0.261512 4.96209C0.0940686 5.1379 0 5.37636 0 5.625L0 6.5625C0 6.81114 0.0940686 7.0496 0.261512 7.22541C0.428955 7.40123 0.656057 7.5 0.892857 7.5H1.78571V27.1875C1.78571 27.9334 2.06792 28.6488 2.57025 29.1762C3.07258 29.7037 3.75388 30 4.46429 30H20.5357C21.2461 30 21.9274 29.7037 22.4298 29.1762C22.9321 28.6488 23.2143 27.9334 23.2143 27.1875V7.5H24.1071C24.3439 7.5 24.571 7.40123 24.7385 7.22541C24.9059 7.0496 25 6.81114 25 6.5625V5.625C25 5.37636 24.9059 5.1379 24.7385 4.96209C24.571 4.78627 24.3439 4.6875 24.1071 4.6875ZM9.58929 2.98301C9.61913 2.93085 9.66135 2.88773 9.71182 2.85784C9.76229 2.82795 9.81929 2.81233 9.87723 2.8125H15.1228C15.1806 2.81243 15.2375 2.8281 15.2879 2.85798C15.3382 2.88787 15.3804 2.93094 15.4102 2.98301L16.3845 4.6875H8.61551L9.58929 2.98301ZM20.5357 27.1875H4.46429V7.5H20.5357V27.1875ZM8.70536 24.375H10.0446C10.2222 24.375 10.3926 24.3009 10.5182 24.1691C10.6437 24.0372 10.7143 23.8584 10.7143 23.6719V11.0156C10.7143 10.8291 10.6437 10.6503 10.5182 10.5184C10.3926 10.3866 10.2222 10.3125 10.0446 10.3125H8.70536C8.52776 10.3125 8.35743 10.3866 8.23185 10.5184C8.10627 10.6503 8.03571 10.8291 8.03571 11.0156V23.6719C8.03571 23.8584 8.10627 24.0372 8.23185 24.1691C8.35743 24.3009 8.52776 24.375 8.70536 24.375Z",fill:"#212832"})})})]})]})}),oe=(c(72),function(e){var t=e.children,c=e.active,n=e.setActive;return Object(X.jsx)("div",{className:"modal ".concat(c?"modal--active":""),children:Object(X.jsxs)("div",{className:"modal-content",children:[Object(X.jsx)("button",{className:"modal__close",onClick:function(){return n(!1)}}),t]})})}),se=function(){var e=Object(u.b)(),t=Object(F.h)().pathname,c=Object(u.c)((function(e){return e.todos.todos})),n=Object(u.c)((function(e){return e.user.user})),a=o.a.useState(!1),r=Object(K.a)(a,2),s=r[0],i=r[1],l=o.a.useState(""),d=Object(K.a)(l,2),j=d[0],b=d[1],f=o.a.useState(""),O=Object(K.a)(f,2),h=O[0],m=O[1];o.a.useEffect((function(){var c={folderId:t.slice(1),userId:n};e(y(c))}),[e,t]);var p=function(t){e(H(t))},x=function(t,c){e(M({id:t,completed:c}))},g=function(e,t){i(!0),m(e),b(t)};return Object(X.jsxs)("div",{className:"todos",children:[c.map((function(e){return Object(X.jsx)(re,Object(v.a)(Object(v.a)({},e),{},{remove:p,changeState:x,openModal:g}),e.id)})),Object(X.jsxs)(oe,{active:s,setActive:i,children:[Object(X.jsx)(q,{}),Object(X.jsx)(Y,{className:"todos__modal",name:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",value:h,setValue:m,onSubmit:function(t){t.preventDefault(),e(Z({title:h,id:j}))}})]})]})},ie=(c(73),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.user.user})),c=Object(F.h)().pathname,n=o.a.useState(""),a=Object(K.a)(n,2),r=a[0],s=a[1];return Object(X.jsxs)("div",{className:"board",children:[Object(X.jsx)(ne,{}),Object(X.jsx)(se,{}),Object(X.jsx)(Y,{name:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447",value:r,setValue:s,onSubmit:function(n){if(n.preventDefault(),r.trim("").length>0){var a={title:r.replace(/ +/g," ").trim(),folderId:c.slice(1),userId:t};e(V(a)),s("")}}})]})}),ue=(c(47),function(e){var t=e.title,c=e.id,n=e.push,a=e.link,r=e.active,o=e.activeTodos;return Object(X.jsx)("div",{className:"folder ".concat(r?"folder--active":""),onClick:function(){n(a),o(c)},children:Object(X.jsx)("h2",{className:"folder__title",children:t})})}),le=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.folders.folders})),c=Object(u.c)((function(e){return e.user.user})),n=Object(F.g)().push,a=Object(F.h)().pathname;o.a.useEffect((function(){e(_(c))}),[e,c]);var r=function(t){e(y(t))};return Object(X.jsxs)("div",{className:"folders",children:[Object(X.jsx)(ue,{title:"\u0417\u0430\u0434\u0430\u0447\u0438",link:"/react-todo/",push:n,active:"/react-todo"===a||"/react-todo/"===a,activeTodos:r}),t.map((function(e){return Object(X.jsx)(ue,Object(v.a)(Object(v.a)({},e),{},{link:"/".concat(e.id),push:n,active:a==="/".concat(e.id),activeTodos:r}),e.id)}))]})},de=(c(74),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.user.user})),c=o.a.useState(""),n=Object(K.a)(c,2),a=n[0],r=n[1];return Object(X.jsxs)("aside",{className:"aside",children:[Object(X.jsx)(q,{}),Object(X.jsx)(le,{}),Object(X.jsx)(Y,{className:"aside__field",name:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438",value:a,setValue:r,onSubmit:function(c){if(c.preventDefault(),a.trim("").length>0){var n={title:a.replace(/ +/g," ").trim(),userId:t};e(k(n)),r("")}}})]})}),je=(c(75),function(){return Object(X.jsxs)("main",{className:"main",children:[Object(X.jsx)(de,{}),Object(X.jsx)(ie,{})]})});var be=function(){var e=Object(u.c)((function(e){return e.user.user}));return Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(F.d,{children:[Object(X.jsx)(F.b,{exact:!0,path:"/react-todo/login",component:te}),Object(X.jsx)(F.b,{exact:!0,path:"/react-todo/registr",component:ce}),null!==e?Object(X.jsx)(F.b,{exact:!0,path:"/:folderId/",component:je}):Object(X.jsx)(F.a,{to:"/react-todo/login"})]})})};c(76);i.a.render(Object(X.jsx)(o.a.StrictMode,{children:Object(X.jsx)(u.a,{store:P,children:Object(X.jsx)(A.a,{children:Object(X.jsx)(be,{})})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.59f578a4.chunk.js.map